# 浏览器发展史

##  概述

对所有`JavaScript`的所有`ECMAScript`版本进行整合，在`ES3`，`ES5`，`ES6`之前版本之前的知识进行补全。

## 开创者

浏览器是计算机系统中通过`URI`进行网络请求与响应的方式，在可视化窗口中显示文本数据，数据图形化的应用。浏览器在前端是不可缺少的一部分，它的发展过程也是路途坦途。由`Tim Berners Lee`，英国的计算机工程师，万维网之父在`80`年代就定义了浏览器，互联网协议，网页，标准规范，传输协议，一个网页的正常显示，一个网页的制作，`web`服务器的设计，包括定义了所有的标准雏形，至今，这些定义仍然遵循使用。

`Tim Berners Lee`在瑞士日内瓦工作，任职于欧洲粒子研究组织(`CERN`)，该组织属于科研机构，`European Organization for Nuclear Reasearch`，担任软件顾问，开发了一个叫`Enquire`项目，应用于给研究者们的内部信息共享的一套解决方案系统，是一个超文本在线编辑数据库，至今，超文本仍然流行于互联网，超文本是`HTML`的雏形，从而演变成今天的前端。

## 提案

在`1989`年，`Tim Berners Lee`提交了一份提案，这个提案是`Information Management Proposal`，信息管理相关的一个提案。根据`Enquire`项目设计了如何利用超文本为基础让计算机实现信息共享的功能，这个提案可以实现公众化，成为一个公共服务，让大众可以遵循一套规范，进行与超文本系统相关的项目，实现公共化的计算机信息共享。

在提案的第二个版本中明确的表示`3`个内容，分别是`URI`通用资源标识标准，`HTTP`超文本传输协议，`HTML`超文本标记语言。`URI`资源定位可以是各种各样的形式，如哈希，如`URL`地址，如名字，如门牌地址，任何的形式只要可以定位一个文件或数据，都属于是资源定位。通过`HTTP`协议可以实现在互联网中进行数据传输，也是定位数据的一种方式。通过`HTTP`超文本标记语言可以呈现信息，文本有容量小，易保存，易处理，易表达，易传输等优点，遵循超文本规范可以使用各种文本样式如粗体，斜体，换行，规范统一了全世界文本传输的标准和浏览器解析文本的标准。

在`1990`年`11`月，又提交了一份`Information Management Proposal`提案，完善了万维网协议(`World Wide Web Protocol`)。标志着互联网信息共享与传输的开始。`Tim Berners Lee`在`NeXT`工作站实现了`World Wide Web`，利用万维网协议把万维网协议的内容和一些文档相关的内容写入到当时世界的第一个网页中，叫[WorldWideWeb](http://info.cern.ch/hypertext/WWW/TheProject.html)，该网站为了展示万维网协议，和相关的标准规范，运行在`NeXT`工作站上。乔布斯是当时`NeXT`工作站的老板。 只能运行在`NeXT`工作站上，并不能移植到其他系统环境中使用。

在`1990`年`12`月，`Tim Berners Lee`在`NeXT`工作站上开发了一个浏览器(`WorldWideWeb Browser`)，之后为了避免重名，把浏览器改为`Nexus`，并在工作站中开发了一个网页服务器，该服务器是一个物理的主机，机箱上贴着一张纸说"This machine is a server, DO NOT POWER DOWN"。

在`1991`年`8`月份，在`Usenet`讨论区上的新闻组叫`alt.hypertext`发布万维网项目。标志着万维网成为公共服务的开始。  

## 移植

`Nicola Pellow`是计算机发展史上一个非常重要的人物，善于数学，`1991`年时，为了做计算机相关开发，自学`C`语言，在`WWW Browser`基础上做了重构，最终开发了一个新的浏览器，叫`Line Mode Browser`，里面包含了一个`Libwww`组件库，把浏览器所需要的功能抽离成一个一个独立的组件，该组件库提供了网络应用接口，通过编程接入接口去完成互联网相关的事情，有了网络接口，可以运行在`unix`和`windows`环境上，实现了移植，作为了世界上第一款能够在其他平台上运行的浏览器。

`1992`年，`Nicola Pellow`刚毕业就找到`Robert Cailiau`一起去开发`MacWWW`，也是第一个`Mac`网页浏览器。

## 免费开放

在`1993`年`4`月，`CERN`组织和`Tim Berners Lee`决定放弃发明专利，此时万维网将对任何人免费开放，免费使用互联网相关的传输协议。

## `W3C`

在`1994`年，`World Wide Web Consortium`万维网联盟由`Tim Berners Lee`成立，将`WWW`技术协议进行标准化。同年`12`月在麻省理工学院计算机科学实验室中召开了第一次会议。

在`1995`年`4`月在欧洲的法国计算机科学和自动化研究所成立分部。在`1996`年`9`月在亚洲的日本庆应大学研究所成立分部。`1997`年开始在世界各地区域开设办事处。`2013`年`1`月，在北京航空航天大学成立中国办事处。

## 图形浏览器

在`1993`年基于万维网标准，浏览器走向商业化阶段，可视化浏览器的诞生从美国的伊利诺伊大学开始，美国超级计算机应用组织中的`Marc L.Andressen`和`Eric J.Bina`开发出第一个图形化浏览器，可以提供图片加载的功能，该浏览器叫`Mosaic`。真正意思上`URI`标准可以使用`URL`，此时在`Mosaic`中可以使用`Document URL`功能。

## 商业化

在`1994`年，`Marc L.Andressen`创办了`Mosaic Communications Corpation`公司，由于`Mosaic`本身隶属于伊利诺伊大学并广泛应用，也不属于美国国家超级计算机应用中心，后来由于商标侵权问题改名为`Netscape Communications Corpation`网景公司。

同年，`Marc L.Andressen`推出了首款`Netscape Navigator`网景浏览器，支持`Mac`平台和`Windows`平台，版本后叫`Mozilla`，非常像`Mosaic Kller`。

在`1994`年，美国国家超级计算机应用中心被委托去转让`Mosaic`商标和版权转让给`Spy Glass`网络软件公司，它是早期做数据库和可视化软件的公司。

## 微软入局

`Microsoft`微软公司理解为浏览器发展上的促进者，也可以是搅局者。在`90`年代，网景的`Netscape Navigator`风靡市场，在浏览器市场中，一度占有率达至`80%`左右。微软发现了浏览器本身具有潜力和商业价值非常大，`Microsoft`作为一个系统却没有快速开发浏览器的能力，微软找了一家叫`BookLink`公司开发的浏览器并进行收购，但未能收购成功，最终被`America Online`美国在线公司收购了。微软转向与`Spy Glass`公司进行谈判，获得了`Mosaic`的技术授权，并在`1995`年`8`月发布了`Internet Explorer`浏览器，版本为`1.0`，仅仅是做了图形界面的封装，内核仍然是`Mosaic`。

在`1995`年`11`月，为了快速抢占市场占有率，发布了`2.0`版本。

## 冷战局面

同期网景浏览器注意到微软公司想要占领市场份额，两方都想主导`W3C`标准，想要控制行业标准的控制权，微软一开始就不承认`W3C`的标准，并在后续的更新中都不按照`W3C`标准来开发。网景公司也开始对`W3C`标准的不兼容开发，而是网景与微软都对`W3C`的标准互不兼容，自己做自己的标准。

## `ECMA-262`

网景公司将`JavaScript`动态网页制作的标准作为草案提交给`ECMA`欧洲计算机制造商协会，`ECMA`审核后将`JavaScript`作为所有脚本语言的标准，放入`ECMA-262`文件中，针对当时草案拟定了整个世界上所有脚本语言的规范。

## `JScript`

同期微软不认同`ECMA-262`规范，而是针对`ECMAScript`规范自己创造了`JScripts`动态脚本语言。它的`1.0`版本在`1996`年`8`月随着`Internet Explore 3.0`版本发布而推出。它与`JavaScript`语法一样，但是接口稍微不一样。`JavaScript`可以运行在任何环境，而`JSript`只能运行在`IE11`及旧版本。

## `Opera`

在`1996`年挪威公司发布第一个版本叫`MultiTorg Opera`，基于`Elektra`内核，排版引擎即渲染引擎，在`2.0`版本中更改名字为`Opera`，在`2013`年采用了`blink`引擎，后来和`Chrome`一起研究`blink`排版引擎。`2016`年被奇虎`360`收购。

## 抢占市场

微软`Windows`系统发展太快导致`IE`浏览器的占有率越来越大，微软采取了一系列的方案去加速对市场的占有，开发类似于网景服务器软件，开始打价格战。微软的`WindowNT`产品中推广`IE`并以产品涨价以要挟用户禁止使用网景浏览器。微软花钱拉拢主机厂商使用`IE`浏览器为默认浏览器。

## `Trident`

在`1997`年`10`月，微软发行了`IE4.0`版本，采用了`Trident`内核的排版引擎，`Trident`被广泛认为是`Mosaic`魔改后的引擎，沿用至`IE11`版本。

`Trident`是一个排版引擎，性能接近于`Netscape Navigator`，并遵循`W3C`网页标准，预装于`Windows`系统，占有率一度到达`40%`。

## 大战

首先微软在网景公司门口摆了一个巨大的`IE`图标，随后网景员工将吉祥物`Mozilla`恐龙踩在`IE`图标的上面，意味着微软和网景大战即将打响。

在`1997`年`6`月，网景发布了`Netscape 4`版本，发布了一个网络包，名字叫`Netscape Communicator`，包含了`Netscape Navigator`网页浏览器，`Netscape Messenger`电子邮件客户端软件，`Netscape Collabra`新闻组软件，`Netscape Netcaster`资料收讯软件，`Netscape Conference`在线会议软件等，该版本是目前最糟糕的版本，性能差，`BUG`多，容易造成内存溢出报错，损失了大量的用户，并转向至`IE`浏览器，该版本标志着网景公司走向下坡路。

在`1999`年`3`月，微软发布了`IE5`，并预装在`Windows98`系统，并超过了网景的市场占有率。

在`1998`年，网景公司在最后时刻成立了一个`Mozilla`组织，主要开发`Mozilla`应用包，希望浏览器中有电子邮件，网页聊天等应用。并开发`Gecko`内核。

在`1998`年，网景公司决定将`Netscape`浏览器开源，同时期起诉微软公司对行业进行垄断。网景公司由于运营困难问题被`America Online`美国在线收购。

## 渲染引擎

在`2001`年，`IE6`发布并搭载在`WindowXP`系统环境上，是微软开发的一套使用`GUI`的网页浏览器，即一个解析`JS`脚本的渲染引擎。

在`2002`年，`IE`的市场占有率已经达到`96%`，此时微软和网景之间的大战基本已经结束了。

## `Mozilla`基金会

在`2003`年，`Mozilla`基金会成立，`moz://a`，通过募集资金来制定管理每种技术开发的政策，管理商标知识产权，经营关键的基础组织，支持和领导开源项目。

`MDN`即`Mozilla Developer Network`属于`Mozilla`基金会旗下管理的开发者网络文档。

`Mozilla`基金会还注册了`Mozilla`公司，旗下有`Mozilla Firefox`浏览器和`Mozilla Thunderbird`电子邮件管理系统(前身是`Phoenix`和`Firebird`)两个产品。

在`2012`年，`Mozilla`与`Samsung`共同开发`Servo`排版引擎。移植到`Android`系统和`ARM`处理器。该项目旨在创造一个大规模并行计算的环境，其中许多组件（如渲染、布局、`HTML`解析、图像解码等）都是并发的。此项目与`Rust`编程语言有共生的关系，并同样正在开发中。

## `Webkit`

在`1998`年，`KHTML`是由`KDE`小组所开发的`HTML`排版引擎，该引擎起初是用于给系统级排版而非浏览器使用，`KDE`小组是专门做`unix`和`linux`可视化系统平台。由于`KDE`与苹果的友好关系，苹果在`2002`年基于`KHTML`开发了`Webkit`排版引擎。

`KDE`与苹果之间存在纠纷，源于`KDE`将`KHTML`给苹果进行二次开发的时候与苹果达成协议，将后续开发的代码理应合并至`KHTML`中并无偿进行开源，但苹果后来却没有履行开源责任，同意合并代码但前提是要求`KDE`小组签署保密协议。`KDE`小组无法接受结果，经交涉后苹果最终同意打着`Webkit`的名号开源`KHTML core`部分源码，对于后续苹果新增的代码并没有开源。

苹果的`Safari`浏览器在`2003`年`7`日首度发行测试版，并预装了`Webkit`内核。

在`2010`年，苹果开发了`Webkit2`内核，在`Google`开发了多进程架构的时候并没有合并至`Webkit`中，所以苹果独立开发了独立的进程，把一些`API`改为非阻塞式的即异步`API`，这些`API`的调用都不会影响`Mac`系统的`UI`层。

## `Presto`

在`2003`年，`Opera Software ASA`公司开发了`Presto`网页浏览器排版引擎，类似于`KHTML`架构，`KHTML`部分被苹果开源了，`Opera`拿到开源的代码进行魔改成为`Presto`。

## `Google`

据说在`Webkit`开源后，`2006`年`Google`马上加入对`Webkit`的开发，新增了多进程架构，并开发了`Google Chrome`浏览器。

虽然说苹果开源了`Webkit`即`KTHML`部分源码，对非`KHTML`代码并没有开源，`Google`对多进程架构也没有合并到苹果开源的`Webkit`中，而是放入到`Chromuium`项目中，使苹果和`Google`从此产生隔阂，直到`Chromuium`项目的诞生，开始分道扬镳不再合作项目。

`Chromuium`项目是`Chrome`浏览器的内核，包含了`Webkit`和`V8`，多进程管理，`JS`渲染引擎，`JS`引擎，可视化等基础功能。

在`2008`年，`Chrome`发布了基于`Chromium`开发的`V8`引擎，标志着`JavaScript`可以脱离浏览器环境运行使用。

在`2009`年，`Chrome`发布了拓展库，支持`Devtools`等扩展工具，支持`HTML5 Worker`技术。

在`2010`年，`Chrome`浏览器的市场占有率达到了`20%`，微软为了遏制`Chrome`的发展，在`2011`年至`2013`年开始迭代`Trident`内核的第`5`到第`7`版本对应`IE`第`8`到第`11`个版本。

在`2012`年，`Chrome`浏览器的市场占有率达到了`31%`，微软在`2015`年推出了`EdgeHTML`内核，以此来对`Trident`内核的更替，并搭载至`Windows10`系统上。在`2020`年基于`Chromium`项目发布了`Edge`浏览器，标志着`IE`浏览器和`Trident`内核的切底失败。	

在`2013`年，`Google`与`Opera`合作，开发基于`Webkit`内核的`Blink`内核。